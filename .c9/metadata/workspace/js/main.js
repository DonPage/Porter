{"changed":true,"filter":false,"title":"main.js","tooltip":"/js/main.js","value":"angular.module('porter', ['ngRoute', 'firebase', 'youtube-embed', 'plangular'])\n    .config(function ($routeProvider) {\n        $routeProvider\n            .when(\"/\", {\n                templateUrl: \"views/home.html\",\n                controller: \"homeController\"\n            })\n            .when(\"/room\", {\n                controller: \"roomController\",\n                templateUrl: \"views/room.html\"\n            })\n            .when(\"/about\",{\n                controller: \"aboutController\",\n                templateUrl: \"views/about.html\"\n            })\n            .when(\"/register\",{\n                controller: \"registerController\",\n                templateUrl: \"views/register.html\"\n            })\n            .when(\"/login\",{\n                controller: \"loginController\",\n                templateUrl: \"views/login.html\"\n            })\n            .when(\"/profile\",{\n                controller: \"profileController\",\n                templateUrl: \"views/profile.html\"\n            })\n\n            .otherwise({\n                redirectTo: \"#/\"\n            });\n    })\n    \n\n  \n\n.controller(\"homeController\", function($scope, $firebase, porterServ){\n    \n    var ref = new Firebase(\"https://porter.firebaseio.com/\");\n    \n    $scope.logOut = function(){\n        ref.unauth();\n        window.location.hash = '#/';\n    }\n\n    //Calling the awesomse Firebase! Hello Firebase, come in!\n    var ref = new Firebase(\"https://porter.firebaseio.com/\");\n    //console.log(porterServ.getItems());\n    if(localStorage.getItem('firebase:session::porter')){\n        \n        window.location.hash = '#/';\n            \n        \n    }else{\n            \n            $scope.registerUser = function(){   \n    \n            //Ref Firebase var to call in facebook api\n            ref.authWithOAuthPopup(\"google\", function(error, authData){\n                  \n                    var userRef = ref.child(\"/users/\");\n                    $scope.id = authData.google.id;\n                    \n                    userRef.child($scope.id).update({\n                      //Information grabbing from Google\n                      name: authData.google.displayName,\n                      email: authData.google.email\n                  });\n                 var redirect = '#/';\n                 window.location.hash = redirect;\n                }\n                ,{ \n                  scope: \"email\",\n                  remember: \"default\"\n                });\n         }; //Google Auth Closing Tag \n         }}) // close controller \"register controller\"\n \n  /* End Register Controller */\n\n.controller(\"loginController\", function($scope, $firebase, porterServ){\n    \n    \n        //Calling the awesomse Firebase! Hello Firebase, come in!\n    var ref = new Firebase(\"https://porter.firebaseio.com/\");\n    \n    //$scope.logOut = function(){ref.unauth();}\n    \n    //console.log(porterServ.getItems());\n    if(localStorage.getItem('firebase:session::porter')){\n        \n        window.location.hash = '#/';\n            \n        \n    }else{\n            \n            $scope.registerUser = function(){   \n    \n            //Ref Firebase var to call in facebook api\n            ref.authWithOAuthPopup(\"google\", function(error, authData){\n                  \n                    var userRef = ref.child(\"/users/\");\n                    $scope.id = authData.google.id;\n                    \n                    userRef.child($scope.id).update({\n                      //Information grabbing from Google\n                      name: authData.google.displayName,\n                      email: authData.google.email\n                  });\n                 var redirect = '#/';\n                 window.location.hash = redirect;\n                }\n                ,{ \n                  scope: \"email\",\n                  remember: \"default\"\n                } \n            );\n\n         }; //Google Auth Closing Tag \n         \n        }\n    \n    \n})\n\n.controller(\"roomController\", function($scope, $firebase, $http, porterServ){\n    //Dev room/user data\n    \n    \n    \n    //on init this will get user data, if any:\n    function loadLSData() {\n        $scope.stringLoginData = localStorage.getItem(\"firebase:session::porter\");\n        \n        //parses data from ls, or just sets it to false if none given.\n        $scope.loginData = JSON.parse($scope.stringLoginData) || false;\n        \n        console.log($scope.loginData);\n        \n        if(!$scope.loginData){\n            //this will handle guest accounts.\n            console.log(\"NOT LOGGED IN!\");\n        } else {\n            console.log(\"USER IS LOGGED IN.\");\n            $scope.deviceID  = $scope.minDeviceID($scope.loginData.token);\n            $scope.userID = $scope.loginData.google.id;\n            \n            console.log(\"FINAL user info:\"+$scope.deviceID, $scope.userID);\n            \n        };\n        \n    }//END OF LOADLSDATA();\n    \n    //this mins the device ID so its more readable.\n    $scope.minDeviceID = function (id) {\n        //returns last 3 characters\n        var lastThree = id.substr(id.length - 3);\n        \n        //just standard template text.\n        var template = \"Device\"\n        \n        return template +\"-\"+lastThree;\n    };\n    \n    loadLSData();//might move this later.\n    \n    //if user is not logged in this switches to dev, this will be changed later once guest accounts are put in.\n    var userAccount = $scope.userID || \"dev\";\n    \n    console.log(\"userAccount:\", userAccount);\n    \n    var userData = new Firebase(\"https://porter.firebaseio.com/users/\" + userAccount + \"/\");\n    \n    var sync = $firebase(userData);\n    \n    var record = sync.$asObject();\n    \n    record.$bindTo($scope, 'room');\n    \n    $scope.roo\n    \n    \n    \n    \n    \n    \n    // console.log(\"currentPlaylist\", $scope.room.currentPlaylist);\n    \n    // record.$loaded().then(function(data){\n    //         console.log(\"$VALUE:\", data);\n    //     });\n    \n    \n    \n    \n    //disabled for dev use only.\n    // sync.$update({\n    //     email: \"random\",\n    //     username: \"random\",\n    //     currentPlaylist: \"default\",\n    //     currentIndex: 0,\n    //     currentlyPlaying: \"HAIDqt2aUek\",\n    //     allPlaylist: {\n    //         default: {\n    //             link: \"https://www.youtube.com/watch?v=HAIDqt2aUek\",\n    //             link: \"https://www.youtube.com/watch?v=HAIDqt2aUek\"\n    //         }\n    //     }\n    // })\n    \n    //currentIndex holds the value of index in firebase arrray.\n    $scope.currentPlaylistRef = $firebase(userData.child(\"currentIndex\")).$asObject();\n    $scope.currentPlaylistRef.$loaded().then(function(data){\n        \n            console.log(\"$scope.currentIndex:\", data.$value);\n            $scope.currentIndex = data.$value;\n            \n            //small orange chicking, large chicking lowmein. small chicking\n            \n        });\n    \n    console.log($scope.currentIdx);\n\n\n   $scope.options = [\n    { label: 'YouTube', value: 1 },\n    { label: 'SoundCloud', value: 2 }\n  ];\n    \n    \n    \n    //device name, all devices must have a name before doing anything OR select an existing device.\n    $scope.deviceName = false;\n    \n    //current player tells the DOM what player should be showing.\n    $scope.currentPlayer = \"youtubeplayer\";\n    \n    //the search results from the different api's. this is mainly for soundcloud\n    $scope.searchArray = porterServ.getSearchResults();\n    \n    //youtube search results:\n    $scope.youtubeSearchArray = [];\n    \n    //soundcloud search array:\n    $scope.soundcloudSearchArray = [];\n    \n    //current selected playlist\n    $scope.currentPlaylist = \"default\";\n    \n    //this is what the user is currently searching, youtube is the default.\n    $scope.serviceSearching = \"youtube\";\n    \n    //just a string to hold the current video.\n    $scope.currentSong = \"\";\n    \n    //player auto plays\n    $scope.playerVar = {\n            autoplay: 1 //auto play video = true;\n    };\n    \n    \n    \n     $scope.$on('youtube.player.ended', function ($event, player) { //action once video ends.\n     \n        console.log(\"video has ended\");\n        \n        //adds one to the current index.\n        $scope.room.currentIndex ++;\n        //holds the next index value.\n            var nextIdx = $scope.room.currentIndex;\n            \n            var playlistData = new Firebase(\"https://porter.firebaseio.com/users/\" + userAccount + \"/allPlaylist/default/\");\n    \n            var syncPlaylist = $firebase(playlistData);\n    \n            var recordPlaylist = syncPlaylist.$asObject();\n            \n            var arrayPlaylistSync = syncPlaylist.$asArray();\n            \n            var playlistShadow = [];\n            \n            recordPlaylist.$loaded().then(function (data) {\n                console.log(\"data:\", data['-JiADdHjIW-jUbpO3Fu_']);\n                for (var keys in data) {\n                    if (data.hasOwnProperty(keys)) {\n                        \n                        console.log(data[keys]);\n                        \n                        \n                        var usersRef = new Firebase('https://porter.firebaseio.com/users/dev/allPlaylist/default/');\n                        var fredRef = usersRef.child('4');\n                        console.log(fredRef);\n\n                        \n                    }\n            }\n            })\n            \n            \n            \n            console.log(\"FOREVER: \", recordPlaylist);\n            // console.log(\"ARRAY:\", arrayPlaylistSync);\n            \n            \n\n            \n\n            // if( nextIdx == playlistLength){ //failsafe for if user is at the end of playlist\n\n            //     console.log(\"end of playlist, starting over\");\n            //     console.log(\"NEXT:\", $scope.syncPlaylistArray[0]);\n\n            //     return $scope.newVideo(playlist[0].id, 0); //play video at the beginning of array\n            // }\n\n            // console.log(\"NEXT:\", $scope.syncPlaylistArray[$scope.syncIndex + 1]);\n            // $scope.newVideo(playlist[nextIdx].id, nextIdx);\n\n        });\n    \n    \n    \n    //this is what the user is currently searching, option 1 is default.\n     $scope.correctlySelected = $scope.options[1];\n    \n    //right now this only for youtube search.\n    $scope.searchingVideo = function (q) {\n        console.log(\"SEARCHING VIDEO\");\n        // console.log($scope.correctlySelected.label);\n        \n        if($scope.correctlySelected.label === \"YouTube\"){\n            console.log(\"youtube search\");\n             $http.get(\"https://www.googleapis.com/youtube/v3/search\" +\n                \"?part=snippet\" +\n                \"&q=\"+ q +\"\" +\n                \"&maxResults=50\"+\n                \"&key=AIzaSyAvy2vZGTkZ5b8yyZ0o7VWEfWaLM6HCxts\")\n                .success(function(data){\n                    $scope.youtubeSearchArray = data.items;\n                    porterServ.pushResults(data.items);\n                    $scope.searchArray = porterServ.getSearchResults();\n\n\n                })\n                .error(function(data){\n                    console.log(\"YT ERROR:\", data);\n                });\n                \n        }\n        \n        else if($scope.correctlySelected.label === \"SoundCloud\"){\n            console.log(\"soundcloud search\");\n            \n             $http.get(\"https://api.soundcloud.com/tracks.json?client_id=32393a2885421a0854a43640691c3eba&q=\"+q+\"&limit=10\")\n                .success(function(data){\n                    \n                    // $scope.searchArray = data.items;\n                    $scope.soundcloudSearchArray = data; //preseting the data, this will be removed later and replaced by the service.\n                    porterServ.pushResults(data);\n                    $scope.searchArray = porterServ.getSearchResults();\n                })\n                .error(function(data){\n                    console.log(\"YT ERROR:\", data);\n                });\n            \n        }else if($scope.correctlySelected.label === \"spotify\"){\n            console.log(\"soundcloud search\");\n            \n             $http.get(\"https://api.soundcloud.com/tracks.json?client_id=32393a2885421a0854a43640691c3eba&q=\"+q+\"&limit=10\")\n                .success(function(data){\n                    \n                    // $scope.searchArray = data.items;\n                    $scope.soundcloudSearchArray = data; //preseting the data, this will be removed later and replaced by the service.\n                    porterServ.pushResults(data);\n                    $scope.searchArray = porterServ.getSearchResults();\n                })\n                .error(function(data){\n                    console.log(\"YT ERROR:\", data);\n                });\n            \n        }\n        console.log(\"searching video\", q);\n            \n    };\n    /* Section that adds the videos to the users playlist */\n    $scope.addYTSong = function(song) {\n        \n        var userDB = new Firebase(\"https://porter.firebaseio.com/users/dev/allPlaylist/default/\");\n        //Pushes informaiton to firebase\n        userDB.push({\n            'link' : 'https://www.youtube.com/watch?v=' + song['id']['videoId'],\n            'name' : song['snippet']['title'],\n            'image_medium' : song['snippet']['thumbnails']['medium']['url'],\n            'player' : 'youtube'\n        });\n        \n\n        //console.log(song);\n    }\n    \n    $scope.addSCSong = function(song) {\n\n        var userDB = new Firebase(\"https://porter.firebaseio.com/users/dev/allPlaylist/default/\");\n        //Pushes informaiton to firebase\n        userDB.push({\n            'link' : song.stream_url,\n            'name' : song.title,\n            'image_medium' : song.artwork_url,\n            'player' : 'soundcloud'\n        }); \n\n        //console.log(song);        \n    }\n    \n    \n    $scope.playYoutube = function (link) {\n        $scope.room.currentPlayer = \"youtube\";\n        console.log(\"PLAY YOUTUBE!\", link);\n        $scope.room.currentlyPlaying = link;\n         \n        \n    };\n    \n    $scope.playSoundcloud = function(link) {\n        $scope.room.currentPlayer = \"soundcloud\";\n        console.log(\"PLAY SC:\", link);\n        $scope.room.currentlyPlaying = link;\n\n        \n        function playSCSong(url) {\n            SC.initialize({\n                client_id: '4b634ae74afe3d56fbc6232340602934'\n            });\n            SC.stream(link, function(sound){\n                sound.play();\n            });\n        };\n        playSCSong(link);\n    };\n\n})\n\n\n.directive('player', function(){\n  return{\n      scope:true,\n      restrict:'E',\n      controller: function($scope){\n         \n         \n        $scope.addSound = function(index){\n            console.log(\"HELLO CONTROLLER DIRECTIVE\");\n        SC.initialize({\n          client_id: '4b634ae74afe3d56fbc6232340602934'\n        });\n        // stream track id 293\n        SC.stream(\"https://api.soundcloud.com/tracks/138777816/stream\", function(sound){\n          sound.play();\n        });\n        }\n      },\n      link:function(scope, element, attrs){\n           \n    \n    var wordArray = [\"One line\",'2 line','3 line','4 line','5 line'];\n           \n          var i = 0, l = wordArray.length;\n            (function iterator() {\n                scope.word = wordArray[i];  \n                 $(\".newWord\").html( wordArray[i]);\n                if(++i<l) {\n                setTimeout(iterator, 1750);\n                }\n            })();\n\n           \n      } // function closing tag\n  }; // return closing tag\n   \n    \n}) //cta closing tags\n\n.directive('cta', function(){\n   return{\n       scope:{},\n       restrict:'E',\n       controller: function($scope){\n         \n    \n       },\n       link:function(scope, element, attrs){\n           \n    \n    var wordArray = [\"Music\",'Life','Freeing','Are Melodies','Porter'];\n           \n           var i = 0, l = wordArray.length;\n            (function iterator() {\n                scope.word = wordArray[i];  \n                 $(\".newWord\").html( wordArray[i]);\n                if(++i<l) {\n                setTimeout(iterator, 1750);\n                }\n            })();\n\n           \n       } // function closing tag\n   }; // return closing tag\n   \n    \n}); //cta closing tags\n\n\n\n\n   ","undoManager":{"mark":98,"position":100,"stack":[[{"group":"doc","deltas":[{"start":{"row":185,"column":23},"end":{"row":185,"column":24},"action":"insert","lines":[":"]}]}],[{"group":"doc","deltas":[{"start":{"row":185,"column":24},"end":{"row":185,"column":25},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":185,"column":25},"end":{"row":185,"column":26},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":185,"column":26},"end":{"row":185,"column":27},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":185,"column":27},"end":{"row":185,"column":28},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":185,"column":28},"end":{"row":185,"column":29},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":185,"column":29},"end":{"row":185,"column":30},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":185,"column":29},"end":{"row":185,"column":30},"action":"remove","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":184,"column":11},"end":{"row":184,"column":12},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":184,"column":12},"end":{"row":184,"column":13},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":184,"column":13},"end":{"row":184,"column":14},"action":"insert","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":184,"column":14},"end":{"row":184,"column":15},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":184,"column":15},"end":{"row":184,"column":16},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":184,"column":16},"end":{"row":184,"column":17},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":184,"column":17},"end":{"row":184,"column":19},"action":"insert","lines":["()"]}]}],[{"group":"doc","deltas":[{"start":{"row":184,"column":18},"end":{"row":184,"column":19},"action":"insert","lines":["$"]}]}],[{"group":"doc","deltas":[{"start":{"row":184,"column":19},"end":{"row":184,"column":20},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":184,"column":20},"end":{"row":184,"column":21},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":184,"column":21},"end":{"row":184,"column":22},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":184,"column":22},"end":{"row":184,"column":23},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":184,"column":23},"end":{"row":184,"column":24},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":184,"column":24},"end":{"row":184,"column":25},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":184,"column":25},"end":{"row":184,"column":26},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":184,"column":26},"end":{"row":184,"column":27},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":184,"column":27},"end":{"row":184,"column":28},"action":"insert","lines":["v"]}]}],[{"group":"doc","deltas":[{"start":{"row":184,"column":25},"end":{"row":184,"column":28},"action":"remove","lines":["dev"]},{"start":{"row":184,"column":25},"end":{"row":184,"column":33},"action":"insert","lines":["deviceID"]}]}],[{"group":"doc","deltas":[{"start":{"row":184,"column":43},"end":{"row":186,"column":5},"action":"remove","lines":["{","        $scope.deviceID: true","    }"]}]}],[{"group":"doc","deltas":[{"start":{"row":184,"column":43},"end":{"row":184,"column":45},"action":"insert","lines":["\"\""]}]}],[{"group":"doc","deltas":[{"start":{"row":184,"column":44},"end":{"row":184,"column":45},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":184,"column":45},"end":{"row":184,"column":46},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":184,"column":46},"end":{"row":184,"column":47},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":184,"column":47},"end":{"row":184,"column":48},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":184,"column":48},"end":{"row":184,"column":49},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":184,"column":49},"end":{"row":184,"column":50},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":184,"column":52},"end":{"row":184,"column":53},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":176,"column":36},"end":{"row":176,"column":37},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":176,"column":37},"end":{"row":176,"column":38},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":176,"column":38},"end":{"row":176,"column":39},"action":"insert","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":176,"column":39},"end":{"row":176,"column":40},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":176,"column":40},"end":{"row":176,"column":41},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":176,"column":41},"end":{"row":176,"column":42},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":396,"column":11},"end":{"row":398,"column":15},"action":"insert","lines":["","        $('#myform').on('valid.fndtn.abide', function() {","            });"]}]}],[{"group":"doc","deltas":[{"start":{"row":176,"column":42},"end":{"row":176,"column":44},"action":"insert","lines":["()"]}]}],[{"group":"doc","deltas":[{"start":{"row":176,"column":43},"end":{"row":176,"column":45},"action":"insert","lines":["\"\""]}]}],[{"group":"doc","deltas":[{"start":{"row":176,"column":44},"end":{"row":176,"column":45},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":176,"column":45},"end":{"row":176,"column":46},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":176,"column":46},"end":{"row":176,"column":47},"action":"insert","lines":["v"]}]}],[{"group":"doc","deltas":[{"start":{"row":176,"column":47},"end":{"row":176,"column":48},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":176,"column":48},"end":{"row":176,"column":49},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":176,"column":49},"end":{"row":176,"column":50},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":176,"column":50},"end":{"row":176,"column":51},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":398,"column":0},"end":{"row":399,"column":0},"action":"insert","lines":["",""]},{"start":{"row":399,"column":8},"end":{"row":399,"column":12},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":184,"column":12},"end":{"row":184,"column":34},"action":"remove","lines":["child($scope.deviceID)"]}]}],[{"group":"doc","deltas":[{"start":{"row":184,"column":11},"end":{"row":184,"column":12},"action":"remove","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":396,"column":11},"end":{"row":397,"column":8},"action":"insert","lines":["","        "]},{"start":{"row":399,"column":0},"end":{"row":401,"column":12},"action":"insert","lines":["","            ","            "]}]}],[{"group":"doc","deltas":[{"start":{"row":398,"column":14},"end":{"row":398,"column":18},"action":"remove","lines":["form"]}]}],[{"group":"doc","deltas":[{"start":{"row":398,"column":11},"end":{"row":398,"column":14},"action":"remove","lines":["#my"]},{"start":{"row":398,"column":11},"end":{"row":398,"column":18},"action":"insert","lines":["#addTYs"]}]}],[{"group":"doc","deltas":[{"start":{"row":415,"column":12},"end":{"row":420,"column":11},"action":"insert","lines":["","        $('#addTYs').on('valid.fndtn.abide', function() {","","            ","            ","        });"]}]}],[{"group":"doc","deltas":[{"start":{"row":416,"column":15},"end":{"row":416,"column":17},"action":"remove","lines":["TY"]},{"start":{"row":416,"column":15},"end":{"row":416,"column":17},"action":"insert","lines":["SC"]}]}],[{"group":"doc","deltas":[{"start":{"row":417,"column":0},"end":{"row":417,"column":12},"action":"insert","lines":["            "]},{"start":{"row":417,"column":12},"end":{"row":418,"column":12},"action":"remove","lines":["","            "]}]}],[{"group":"doc","deltas":[{"start":{"row":176,"column":36},"end":{"row":176,"column":53},"action":"remove","lines":[".child(\"devices\")"]}]}],[{"group":"doc","deltas":[{"start":{"row":176,"column":37},"end":{"row":176,"column":54},"action":"insert","lines":[".child(\"devices\")"]}]}],[{"group":"doc","deltas":[{"start":{"row":418,"column":12},"end":{"row":418,"column":19},"action":"insert","lines":["return "]}]}],[{"group":"doc","deltas":[{"start":{"row":181,"column":4},"end":{"row":181,"column":7},"action":"remove","lines":["// "]}]}],[{"group":"doc","deltas":[{"start":{"row":181,"column":12},"end":{"row":181,"column":13},"action":"remove","lines":["v"]}]}],[{"group":"doc","deltas":[{"start":{"row":181,"column":11},"end":{"row":181,"column":12},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":181,"column":10},"end":{"row":181,"column":11},"action":"remove","lines":["D"]}]}],[{"group":"doc","deltas":[{"start":{"row":398,"column":0},"end":{"row":402,"column":11},"action":"remove","lines":["        $('#addTYs').on('valid.fndtn.abide', function() {","","            ","            ","        });"]},{"start":{"row":412,"column":0},"end":{"row":415,"column":11},"action":"remove","lines":["        $('#addSCs').on('valid.fndtn.abide', function() {","            ","            return ","        });"]}]}],[{"group":"doc","deltas":[{"start":{"row":178,"column":16},"end":{"row":178,"column":17},"action":"remove","lines":["v"]}]}],[{"group":"doc","deltas":[{"start":{"row":178,"column":15},"end":{"row":178,"column":16},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":178,"column":14},"end":{"row":178,"column":15},"action":"remove","lines":["D"]}]}],[{"group":"doc","deltas":[{"start":{"row":178,"column":17},"end":{"row":178,"column":24},"action":"remove","lines":["devSync"]},{"start":{"row":178,"column":17},"end":{"row":178,"column":18},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":178,"column":18},"end":{"row":178,"column":19},"action":"insert","lines":["y"]}]}],[{"group":"doc","deltas":[{"start":{"row":178,"column":19},"end":{"row":178,"column":20},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":178,"column":20},"end":{"row":178,"column":21},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":184,"column":4},"end":{"row":184,"column":30},"action":"remove","lines":["devSync.$update(\"online\");"]}]}],[{"group":"doc","deltas":[{"start":{"row":183,"column":4},"end":{"row":183,"column":29},"action":"remove","lines":["//update device into room"]}]}],[{"group":"doc","deltas":[{"start":{"row":175,"column":0},"end":{"row":176,"column":55},"action":"remove","lines":["    //sync devices","    var devSync = $firebase(userData).child(\"devices\");"]}]}],[{"group":"doc","deltas":[{"start":{"row":174,"column":4},"end":{"row":175,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":174,"column":0},"end":{"row":174,"column":4},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":173,"column":35},"end":{"row":174,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":178,"column":28},"end":{"row":178,"column":31},"action":"remove","lines":["dev"]},{"start":{"row":178,"column":28},"end":{"row":178,"column":29},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":178,"column":29},"end":{"row":178,"column":30},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":178,"column":30},"end":{"row":178,"column":31},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":178,"column":31},"end":{"row":178,"column":32},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":177,"column":4},"end":{"row":177,"column":31},"action":"remove","lines":["//no need to bind? i think."]}]}],[{"group":"doc","deltas":[{"start":{"row":177,"column":0},"end":{"row":177,"column":4},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":176,"column":4},"end":{"row":177,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":176,"column":4},"end":{"row":177,"column":0},"action":"insert","lines":["",""]},{"start":{"row":177,"column":0},"end":{"row":178,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":177,"column":35},"end":{"row":178,"column":0},"action":"insert","lines":["",""]},{"start":{"row":178,"column":0},"end":{"row":178,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":178,"column":4},"end":{"row":179,"column":0},"action":"insert","lines":["",""]},{"start":{"row":179,"column":0},"end":{"row":179,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":179,"column":4},"end":{"row":179,"column":5},"action":"insert","lines":["$"]}]}],[{"group":"doc","deltas":[{"start":{"row":179,"column":5},"end":{"row":179,"column":6},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":179,"column":6},"end":{"row":179,"column":7},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":179,"column":7},"end":{"row":179,"column":8},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":179,"column":8},"end":{"row":179,"column":9},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":179,"column":9},"end":{"row":179,"column":10},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":179,"column":10},"end":{"row":179,"column":11},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":179,"column":11},"end":{"row":179,"column":12},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":179,"column":12},"end":{"row":179,"column":13},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":179,"column":13},"end":{"row":179,"column":14},"action":"insert","lines":["o"]}]}]]},"ace":{"folds":[],"scrolltop":2651,"scrollleft":0,"selection":{"start":{"row":179,"column":14},"end":{"row":179,"column":14},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":164,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1423991446096}